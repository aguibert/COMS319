<html>
<head>
<!-- 
  THE PURPOSE OF THIS EXAMPLE IS TO SHOW HOW FUNCTIONS USE THE "THIS"
  OBJECT.

  ALSO, HERE WE SHOW HOW TO DECLARE AN OBJECT IN JS

  NOTE HOW THE THIS OBJECT FOR A FUNCTION CAN BE CHANGED TO SOME 
  TOTALLY DIFFERENT OBJECT!

  YOU NEED TO TRY THE EXAMPLES

-->
</head>

<body>
<h1>

<script> 

// BY DEFAULT WINDOW IS THE "THIS OBJECT" FOR FUNCTIONS
window.color = "red";

// AN OBJECT DECLARATION IS SIMPLE AN ASSOCIATIVE ARRAY IN JS
// JUST A LIST OF KEY:VALUE TUPLES
// VALUES CAN BE FUNCTIONS OR OTHER TYPES
var o = {color: "blue",
         getColor: function() {
           return function() {
             document.write(this.color+"<br>");
           }
         },
         prtColor: function() {
           var that = this;
           return function() {
             document.write(that.color+"<br>");
           }
         }
        };

function sayColor() { document.write(this.color+"<br>"); }

// TODO: WHAT WILL THE BELOW PRINT IF YOU UNCOMMENT? WHY?
// TRY IT!
sayColor();  
// This will print red because the context of "this" in the
// sayColor() function is referring to the window class

// TODO: WHAT WILL THE BELOW PRINT IF YOU UNCOMMENT? WHY?
// TRY IT!
o.sayColor = sayColor;
o.sayColor();
// This will print blue because the execution context refers
// to the o object when the method executes

// TODO: WHAT WILL THE BELOW PRINT IF YOU UNCOMMENT? WHY?
// TRY IT!
o.getColor()();
// This will print red because the function is being executed
// in the window context which has a color of red defined

// TODO: WHAT WILL THE BELOW PRINT IF YOU UNCOMMENT? WHY?
// TRY IT!
o.prtColor()(); 
// This will print blue because the o object's execution context
// gets saved in the "that" variable, and when the function 
// prtColor() executes, it references "that" which is referring to
// the o object.

</script>
</body>
</html>
